<div class="container mt-5">

  <div class="mt-auto">
    <button class="btn btn-danger w-100" (click)="logoutuser()">
      <i class="fa fa-sign-out-alt me-2"></i> Logout
    </button>
  </div>

  <!-- Title -->
  <div class="text-center mb-4">
    <h2 class="fw-bold text-primary">ğŸ  All Households</h2>
    <p class="text-muted">Click on "View Usage" to see daily water usage details or Delete Household</p>
  </div>

  <!-- Households Table -->
  <div class="table-responsive shadow-sm rounded">
    <table class="table table-hover table-bordered align-middle">
      <thead class="table-primary">
        <tr>
          <th scope="col">Household ID</th>
          <th scope="col">Owner Name</th>
          <th scope="col">Email</th>
          <th scope="col">Address</th>
          <th scope="col">Actions</th> <!-- ğŸ‘ˆ Added Actions column -->
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let house of households">
          <td>{{ house.id }}</td>
          <td>{{ house.ownerName }}</td>
          <td>{{ house.email }}</td>
          <td>{{ house.location }}</td>
          <td>
            <button class="btn btn-info btn-sm me-2" (click)="openUsageModal(house.id)">View Usage</button>
            <button class="btn btn-danger btn-sm" (click)="deleteHousehold(house.id)">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Water Usage Details -->
  <div *ngIf="selectedUsage" class="mt-5">
    <h4 class="text-center text-success mb-3">ğŸ’§ Water Usage for Household #{{ selectedHouseholdId }}</h4>

    <div class="table-responsive">
      <table class="table table-striped table-bordered shadow-sm">
        <thead class="table-light">
          <tr>
            <th>Date & Time</th>
            <th>Liters Used</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let usage of selectedUsage">
            <td>{{ usage.timestamp | date:'medium' }}</td>
            <td>{{ usage.litersUsed }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
